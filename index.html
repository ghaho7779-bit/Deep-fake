<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deep Face - Online Earning Platform</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        :root {
            --primary: #3a86ff;
            --secondary: #ff006e;
            --accent: #8338ec;
            --light: #f8f9fa;
            --dark: #212529;
            --success: #28a745;
            --warning: #ffc107;
            --danger: #dc3545;
        }
        
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: var(--light);
            min-height: 100vh;
            padding-bottom: 60px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            margin-bottom: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .logo {
            font-size: 28px;
            font-weight: 700;
            color: white;
            display: flex;
            align-items: center;
        }
        
        .logo i {
            margin-right: 10px;
            color: var(--accent);
        }
        
        nav ul {
            display: flex;
            list-style: none;
        }
        
        nav ul li {
            margin-left: 20px;
        }
        
        nav ul li a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            padding: 8px 15px;
            border-radius: 5px;
            transition: all 0.3s ease;
        }
        
        nav ul li a:hover, nav ul li a.active {
            background: rgba(255, 255, 255, 0.1);
        }
        
        .auth-buttons {
            display: flex;
            gap: 15px;
        }
        
        .btn {
            padding: 10px 20px;
            border-radius: 50px;
            border: none;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .btn-primary {
            background: var(--primary);
            color: white;
        }
        
        .btn-secondary {
            background: var(--secondary);
            color: white;
        }
        
        .btn-success {
            background: var(--success);
            color: white;
        }
        
        .btn-warning {
            background: var(--warning);
            color: black;
        }
        
        .btn-danger {
            background: var(--danger);
            color: white;
        }
        
        .btn-sm {
            padding: 6px 12px;
            font-size: 14px;
        }
        
        .btn:hover {
            opacity: 0.9;
            transform: translateY(-2px);
        }
        
        .page {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        .active-page {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
            border: 1px solid rgba(255, 255, 255, 0.18);
        }
        
        .card-title {
            font-size: 20px;
            margin-bottom: 15px;
            color: white;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            padding-bottom: 10px;
        }
        
        .plans {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .plan {
            background: rgba(255, 255, 255, 0.15);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s ease;
        }
        
        .plan:hover {
            transform: translateY(-5px);
            background: rgba(255, 255, 255, 0.2);
        }
        
        .plan h3 {
            font-size: 22px;
            margin-bottom: 15px;
            color: var(--accent);
        }
        
        .plan-price {
            font-size: 28px;
            font-weight: 700;
            margin: 10px 0;
            color: var(--warning);
        }
        
        .plan-income {
            font-size: 18px;
            margin: 5px 0;
            color: var(--success);
        }
        
        .plan-days {
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 15px;
        }
        
        .dashboard-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .stat {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
        }
        
        .stat-value {
            font-size: 24px;
            font-weight: 700;
            margin: 5px 0;
            color: var(--warning);
        }
        
        .stat-label {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.7);
        }
        
        form {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-top: 20px;
        }
        
        .form-group {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }
        
        label {
            font-weight: 500;
        }
        
        input, select, textarea {
            padding: 12px 15px;
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 16px;
        }
        
        input::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }
        
        .payment-methods {
            display: flex;
            gap: 15px;
            margin: 15px 0;
        }
        
        .payment-method {
            flex: 1;
            text-align: center;
            padding: 15px;
            border: 2px solid transparent;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .payment-method.selected {
            border-color: var(--success);
            background: rgba(40, 167, 69, 0.1);
        }
        
        .payment-method i {
            font-size: 32px;
            margin-bottom: 10px;
        }
        
        .history-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }
        
        .history-table th, .history-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .history-table th {
            background: rgba(255, 255, 255, 0.1);
            font-weight: 600;
        }
        
        .history-table tr:hover {
            background: rgba(255, 255, 255, 0.05);
        }
        
        footer {
            text-align: center;
            padding: 20px;
            margin-top: 40px;
            border-top: 1px solid rgba(255, 255, 255, 0.2);
            color: rgba(255, 255, 255, 0.7);
        }
        
        .admin-panel {
            display: none;
        }
        
        .admin-section {
            margin-bottom: 30px;
        }
        
        .user-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }
        
        .user-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 15px;
        }
        
        .user-card h3 {
            margin-bottom: 10px;
            color: var(--accent);
        }
        
        .user-card p {
            margin: 5px 0;
            color: rgba(255, 255, 255, 0.8);
        }
        
        .admin-actions {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            border-radius: 8px;
            background: var(--success);
            color: white;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            display: none;
            z-index: 1000;
        }
        
        .menu-row {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        
        .menu-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 15px;
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.1);
            width: 120px;
            margin: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .menu-item:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-5px);
        }
        
        .menu-item i {
            font-size: 24px;
            margin-bottom: 10px;
        }
        
        .team-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
        }
        
        .team-member {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
        }
        
        .team-member img {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            object-fit: cover;
            margin-bottom: 15px;
        }
        
        .badge {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 50px;
            font-size: 12px;
            font-weight: 600;
            margin: 2px;
        }
        
        .badge-success {
            background: var(--success);
            color: white;
        }
        
        .badge-warning {
            background: var(--warning);
            color: black;
        }
        
        .badge-danger {
            background: var(--danger);
            color: white;
        }
        
        .customer-service {
            text-align: center;
            margin: 20px 0;
        }
        
        .customer-service a {
            color: var(--accent);
            text-decoration: none;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        .customer-service a:hover {
            text-decoration: underline;
        }
        
        .balance-edit {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }
        
        .balance-edit input {
            flex: 1;
        }
        
        @media (max-width: 768px) {
            nav ul {
                display: none;
            }
            
            .plans {
                grid-template-columns: 1fr;
            }
            
            .dashboard-stats {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .payment-methods {
                flex-direction: column;
            }
            
            .menu-row {
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <i class="fas fa-coins"></i>
                <span>Deep Face</span>
            </div>
            <nav>
                <ul>
                    <li><a href="#" class="nav-link active" data-page="home">Home</a></li>
                    <li><a href="#" class="nav-link" data-page="plans">Plans</a></li>
                    <li><a href="#" class="nav-link" data-page="team">Team</a></li>
                    <li><a href="#" class="nav-link" data-page="profile">Profile</a></li>
                </ul>
            </nav>
            <div class="auth-buttons">
                <button class="btn btn-primary" id="loginBtn">Login</button>
                <button class="btn btn-secondary" id="registerBtn">Register</button>
                <button class="btn btn-warning" id="logoutBtn" style="display: none;">Logout</button>
            </div>
        </header>

        <main>
            <!-- Home Page -->
            <div id="home" class="page active-page">
                <div class="card">
                    <h2>Welcome to Deep Face</h2>
                    <p>Earn money online by investing in our plans. Get daily returns and grow your income.</p>
                </div>

                <div class="dashboard-stats">
                    <div class="stat">
                        <div class="stat-label">Today's Earnings</div>
                        <div class="stat-value" id="today-earnings">Rs 0</div>
                    </div>
                    <div class="stat">
                        <div class="stat-label">Balance</div>
                        <div class="stat-value" id="user-balance">Rs 0</div>
                    </div>
                    <div class="stat">
                        <div class="stat-label">Recharge</div>
                        <div class="stat-value">Rs 10</div>
                    </div>
                    <div class="stat">
                        <div class="stat-label">Withdraw</div>
                        <div class="stat-value">Rs 0</div>
                    </div>
                </div>

                <div class="menu-row">
                    <div class="menu-item" data-page="deposit">
                        <i class="fas fa-plus-circle"></i>
                        <span>Deposit</span>
                    </div>
                    <div class="menu-item" data-page="withdraw">
                        <i class="fas fa-money-bill-wave"></i>
                        <span>Withdraw</span>
                    </div>
                    <div class="menu-item" data-page="plans">
                        <i class="fas fa-chart-line"></i>
                        <span>Invest</span>
                    </div>
                    <div class="menu-item" data-page="team">
                        <i class="fas fa-users"></i>
                        <span>Team</span>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">Daily Reward</h3>
                    <p>Claim your daily reward every 24 hours!</p>
                    <button class="btn btn-warning" style="margin-top: 15px;" id="claimReward">Claim Reward (23:59:59)</button>
                </div>

                <div class="customer-service">
                    <a href="#" id="customerServiceLink">
                        <i class="fas fa-headset"></i>
                        Contact Customer Service
                    </a>
                </div>

                <div class="card">
                    <h3 class="card-title">Latest Transactions</h3>
                    <table class="history-table">
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Type</th>
                                <th>Amount</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody id="transaction-history">
                            <!-- Transactions will be added here dynamically -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Plans Page -->
            <div id="plans" class="page">
                <div class="card">
                    <h2 class="card-title">Investment Plans</h2>
                    <p>Choose a plan that suits you and start earning daily income.</p>
                </div>

                <div class="plans">
                    <div class="plan">
                        <h3>Basic Plan</h3>
                        <div class="plan-price">Rs 500</div>
                        <div class="plan-income">Daily Income: Rs 50</div>
                        <div class="plan-income">Total Income: Rs 500</div>
                        <div class="plan-days">Duration: 10 Days</div>
                        <button class="btn btn-primary invest-btn" data-plan="basic" data-amount="500">Invest Now</button>
                    </div>

                    <div class="plan">
                        <h3>Premium Plan</h3>
                        <div class="plan-price">Rs 800</div>
                        <div class="plan-income">Daily Income: Rs 80</div>
                        <div class="plan-income">Total Income: Rs 800</div>
                        <div class="plan-days">Duration: 10 Days</div>
                        <button class="btn btn-primary invest-btn" data-plan="premium" data-amount="800">Invest Now</button>
                    </div>
                </div>
            </div>

            <!-- Deposit Page -->
            <div id="deposit" class="page">
                <div class="card">
                    <h2 class="card-title">Deposit Funds</h2>
                    <p>Add funds to your account using one of the payment methods.</p>
                </div>

                <div class="card">
                    <h3 class="card-title">Enter Amount</h3>
                    <form id="depositForm">
                        <div class="form-group">
                            <label for="amount">Amount (Rs)</label>
                            <input type="number" id="amount" placeholder="Enter amount" min="500" required>
                        </div>

                        <h3 style="margin: 15px 0;">Select Payment Method</h3>
                        <div class="payment-methods">
                            <div class="payment-method selected" data-method="easypaisa">
                                <i class="fas fa-mobile-alt"></i>
                                <h4>Easy Paisa</h4>
                                <p>0300-2854770</p>
                                <p>Muhammad Salman Khan</p>
                            </div>
                            <div class="payment-method" data-method="jazzcash">
                                <i class="fas fa-wallet"></i>
                                <h4>Jazz Cash</h4>
                                <p>0320-3152971</p>
                                <p>Muhammad Salman Khan</p>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="uid">Transaction UID</label>
                            <input type="text" id="uid" placeholder="Enter transaction UID" required>
                        </div>

                        <button type="submit" class="btn btn-success">Submit Deposit</button>
                    </form>
                </div>
            </div>

            <!-- Withdraw Page -->
            <div id="withdraw" class="page">
                <div class="card">
                    <h2 class="card-title">Withdraw Funds</h2>
                    <p>Withdraw your earnings to your account.</p>
                    <p class="badge badge-warning">First withdrawal allowed. Second withdrawal requires 1 referral.</p>
                </div>

                <div class="card">
                    <h3 class="card-title">Withdrawal Request</h3>
                    <form id="withdrawForm">
                        <div class="form-group">
                            <label for="withdraw-amount">Amount (Rs)</label>
                            <input type="number" id="withdraw-amount" placeholder="Enter amount" min="100" required>
                        </div>

                        <div class="form-group">
                            <label for="withdraw-method">Select Payment Method</label>
                            <select id="withdraw-method" required>
                                <option value="">Select method</option>
                                <option value="easypaisa">Easy Paisa</option>
                                <option value="jazzcash">Jazz Cash</option>
                                <option value="bank">Bank Transfer</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="account-number">Account Number</label>
                            <input type="text" id="account-number" placeholder="Enter your account number" required>
                        </div>

                        <div class="form-group">
                            <label for="account-name">Account Name</label>
                            <input type="text" id="account-name" placeholder="Enter account holder name" required>
                        </div>

                        <button type="submit" class="btn btn-success">Request Withdrawal</button>
                    </form>
                </div>
            </div>

            <!-- Team Page -->
            <div id="team" class="page">
                <div class="card">
                    <h2 class="card-title">My Team</h2>
                    <p>Track your referrals and team performance.</p>
                </div>

                <div class="dashboard-stats">
                    <div class="stat">
                        <div class="stat-label">Direct Referrals</div>
                        <div class="stat-value">0</div>
                    </div>
                    <div class="stat">
                        <div class="stat-label">Team Size</div>
                        <div class="stat-value">0</div>
                    </div>
                    <div class="stat">
                        <div class="stat-label">Team Earnings</div>
                        <div class="stat-value">Rs 0</div>
                    </div>
                    <div class="stat">
                        <div class="stat-label">This Month</div>
                        <div class="stat-value">Rs 0</div>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">Your Referral Code</h3>
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <input type="text" value="DF-50876" id="refCode" readonly style="flex: 1;">
                        <button class="btn btn-primary" onclick="copyRefCode()">Copy</button>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">Direct Referrals</h3>
                    <div class="team-grid" id="referrals-list">
                        <p style="text-align: center; padding: 20px;">No referrals yet</p>
                    </div>
                </div>
            </div>

            <!-- Profile Page -->
            <div id="profile" class="page">
                <div class="card">
                    <h2 class="card-title">My Profile</h2>
                </div>

                <div class="card">
                    <div style="display: flex; align-items: center; gap: 20px; margin-bottom: 20px;">
                        <img src="https://ui-avatars.com/api/?name=User&background=3a86ff&color=fff&size=80" alt="Profile" style="width: 80px; height: 80px; border-radius: 50%;">
                        <div>
                            <h3 id="profile-name">User</h3>
                            <p>Joined: <span id="join-date">10th September 2024</span></p>
                            <p>User ID: <span id="user-id">DF-50876</span></p>
                        </div>
                    </div>

                    <form id="profile-form">
                        <div class="form-group">
                            <label for="profile-name-input">Full Name</label>
                            <input type="text" id="profile-name-input" value="User">
                        </div>
                        <div class="form-group">
                            <label for="profile-email">Email</label>
                            <input type="email" id="profile-email" value="user@example.com">
                        </div>
                        <div class="form-group">
                            <label for="profile-phone">Phone Number</label>
                            <input type="tel" id="profile-phone" value="+92 300 1234567">
                        </div>
                        <div class="form-group">
                            <label for="profile-password">New Password (leave blank to keep current)</label>
                            <input type="password" id="profile-password" placeholder="Enter new password">
                        </div>
                        <button type="submit" class="btn btn-primary">Update Profile</button>
                    </form>
                </div>
            </div>

            <!-- Login Page -->
            <div id="login" class="page">
                <div class="card">
                    <h2 class="card-title">Login to Your Account</h2>
                    <form id="loginForm">
                        <div class="form-group">
                            <label for="login-email">Email</label>
                            <input type="email" id="login-email" placeholder="Enter your email" required>
                        </div>
                        <div class="form-group">
                            <label for="login-password">Password</label>
                            <input type="password" id="login-password" placeholder="Enter your password" required>
                        </div>
                        <button type="submit" class="btn btn-primary">Login</button>
                    </form>
                    <p style="margin-top: 15px; text-align: center;">
                        Don't have an account? <a href="#" id="gotoRegister" style="color: var(--accent);">Register here</a>
                    </p>
                </div>
            </div>

            <!-- Register Page -->
            <div id="register" class="page">
                <div class="card">
                    <h2 class="card-title">Create New Account</h2>
                    <form id="registerForm">
                        <div class="form-group">
                            <label for="register-name">Full Name</label>
                            <input type="text" id="register-name" placeholder="Enter your full name" required>
                        </div>
                        <div class="form-group">
                            <label for="register-email">Email</label>
                            <input type="email" id="register-email" placeholder="Enter your email" required>
                        </div>
                        <div class="form-group">
                            <label for="register-password">Password</label>
                            <input type="password" id="register-password" placeholder="Create a password" required>
                        </div>
                        <div class="form-group">
                            <label for="register-referrer">Referrer ID (Optional)</label>
                            <input type="text" id="register-referrer" placeholder="Enter referrer ID">
                        </div>
                        <button type="submit" class="btn btn-primary">Register</button>
                    </form>
                    <p style="margin-top: 15px; text-align: center;">
                        Already have an account? <a href="#" id="gotoLogin" style="color: var(--accent);">Login here</a>
                    </p>
                </div>
            </div>

            <!-- Admin Panel -->
            <div id="admin" class="page">
                <div class="card">
                    <h2 class="card-title">Admin Panel</h2>
                    <p>Manage users, deposits, and withdrawals.</p>
                </div>

                <div class="admin-section">
                    <h3 class="card-title">Pending Deposits</h3>
                    <table class="history-table">
                        <thead>
                            <tr>
                                <th>User</th>
                                <th>Amount</th>
                                <th>Method</th>
                                <th>Date</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="pending-deposits">
                            <!-- Pending deposits will be added here dynamically -->
                        </tbody>
                    </table>
                </div>

                <div class="admin-section">
                    <h3 class="card-title">Pending Withdrawals</h3>
                    <table class="history-table">
                        <thead>
                            <tr>
                                <th>User</th>
                                <th>Amount</th>
                                <th>Method</th>
                                <th>Date</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="pending-withdrawals">
                            <!-- Pending withdrawals will be added here dynamically -->
                        </tbody>
                    </table>
                </div>

                <div class="admin-section">
                    <h3 class="card-title">All Users</h3>
                    <div class="user-list" id="admin-users-list">
                        <!-- Users will be added here dynamically -->
                    </div>
                </div>
            </div>
        </main>

        <footer>
            <p>&copy; 2024 Deep Face. All rights reserved.</p>
            <p>Contact Customer Support: support@deepface.com | +92 300 1234567</p>
        </footer>
    </div>

    <div class="notification" id="notification">
        Operation completed successfully!
    </div>

    <script>
        // Current user state
        let currentUser = null;
        let isAdmin = false;
        
        // Data storage
        let users = JSON.parse(localStorage.getItem('deepFaceUsers')) || [];
        let deposits = JSON.parse(localStorage.getItem('deepFaceDeposits')) || [];
        let withdrawals = JSON.parse(localStorage.getItem('deepFaceWithdrawals')) || [];
        let transactions = JSON.parse(localStorage.getItem('deepFaceTransactions')) || [];

        // Initialize the app
        function initApp() {
            // Page Navigation
            document.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const pageId = this.getAttribute('data-page');
                    showPage(pageId);
                    
                    // Update active nav link
                    document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
                    this.classList.add('active');
                });
            });

            // Menu items navigation
            document.querySelectorAll('.menu-item').forEach(item => {
                item.addEventListener('click', function() {
                    const pageId = this.getAttribute('data-page');
                    showPage(pageId);
                    
                    // Update active nav link
                    document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
                    document.querySelector(`.nav-link[data-page="${pageId}"]`).classList.add('active');
                });
            });

            // Auth buttons
            document.getElementById('loginBtn').addEventListener('click', () => showPage('login'));
            document.getElementById('registerBtn').addEventListener('click', () => showPage('register'));
            document.getElementById('logoutBtn').addEventListener('click', logout);
            document.getElementById('gotoLogin').addEventListener('click', (e) => {
                e.preventDefault();
                showPage('login');
            });
            document.getElementById('gotoRegister').addEventListener('click', (e) => {
                e.preventDefault();
                showPage('register');
            });

            // Customer service link
            document.getElementById('customerServiceLink').addEventListener('click', function(e) {
                e.preventDefault();
                showNotification('Customer service: support@deepface.com | +92 300 1234567');
            });

            // Payment method selection
            document.querySelectorAll('.payment-method').forEach(method => {
                method.addEventListener('click', function() {
                    document.querySelectorAll('.payment-method').forEach(m => m.classList.remove('selected'));
                    this.classList.add('selected');
                });
            });

            // Form submissions
            document.getElementById('loginForm').addEventListener('submit', handleLogin);
            document.getElementById('registerForm').addEventListener('submit', handleRegister);
            document.getElementById('depositForm').addEventListener('submit', handleDeposit);
            document.getElementById('withdrawForm').addEventListener('submit', handleWithdraw);
            document.getElementById('profile-form').addEventListener('submit', handleProfileUpdate);

            // Investment buttons
            document.querySelectorAll('.invest-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    if (!currentUser) {
                        showPage('login');
                        showNotification('Please login to invest');
                        return;
                    }
                    
                    const user = users.find(u => u.email === currentUser.email);
                    if (user.balance < parseInt(this.getAttribute('data-amount'))) {
                        showNotification('Insufficient balance. Please deposit first.');
                        return;
                    }
                    
                    const plan = this.getAttribute('data-plan');
                    showNotification(`You have invested in the ${plan} plan!`);
                });
            });

            // Claim reward button
            document.getElementById('claimReward').addEventListener('click', function() {
                if (!currentUser) {
                    showPage('login');
                    showNotification('Please login to claim reward');
                    return;
                }
                showNotification('Daily reward claimed successfully! Rs 50 added to your balance.');
            });

            // Check if user is logged in (for demo purposes)
            checkLoginStatus();
        }

        // Handle login form submission
        function handleLogin(e) {
            e.preventDefault();
            const email = document.getElementById('login-email').value;
            const password = document.getElementById('login-password').value;
            
            // Check if it's the admin login
            if (email === 'arlegendry@gmail.com' && password === 'ahmed') {
                currentUser = { name: 'Admin', email: 'arlegendry@gmail.com', isAdmin: true };
                isAdmin = true;
                showPage('admin');
                updateAuthButtons();
                loadAdminData();
                showNotification('Admin login successful!');
                return;
            }
            
            // Regular user login
            const user = users.find(u => u.email === email && u.password === password);
            if (user) {
                currentUser = user;
                isAdmin = false;
                showPage('home');
                updateAuthButtons();
                updateUserData();
                showNotification('Login successful!');
            } else {
                showNotification('Invalid email or password');
            }
        }

        // Handle register form submission
        function handleRegister(e) {
            e.preventDefault();
            const name = document.getElementById('register-name').value;
            const email = document.getElementById('register-email').value;
            const password = document.getElementById('register-password').value;
            const referrer = document.getElementById('register-referrer').value;
            
            // Check if user already exists
            if (users.find(u => u.email === email)) {
                showNotification('User with this email already exists');
                return;
            }
            
            // Create new user with zero balance
            const newUser = {
                name,
                email,
                password,
                balance: 0,
                joinDate: new Date().toLocaleDateString(),
                userId: 'DF-' + Math.floor(10000 + Math.random() * 90000),
                referrals: []
            };
            
            users.push(newUser);
            localStorage.setItem('deepFaceUsers', JSON.stringify(users));
            
            currentUser = newUser;
            isAdmin = false;
            showPage('home');
            updateAuthButtons();
            updateUserData();
            showNotification('Registration successful! You are now logged in.');
        }

        // Handle deposit form submission
        function handleDeposit(e) {
            e.preventDefault();
            if (!currentUser) {
                showPage('login');
                showNotification('Please login to deposit');
                return;
            }
            
            const amount = parseInt(document.getElementById('amount').value);
            const method = document.querySelector('.payment-method.selected').getAttribute('data-method');
            const uid = document.getElementById('uid').value;
            
            // Create deposit request (pending admin approval)
            const deposit = {
                id: Date.now(),
                userEmail: currentUser.email,
                userName: currentUser.name,
                amount,
                method,
                uid,
                date: new Date().toLocaleDateString(),
                status: 'pending'
            };
            
            deposits.push(deposit);
            localStorage.setItem('deepFaceDeposits', JSON.stringify(deposits));
            
            // Add to transactions
            const transaction = {
                type: 'Deposit',
                amount,
                date: new Date().toLocaleDateString(),
                status: 'Pending'
            };
            
            transactions.push(transaction);
            localStorage.setItem('deepFaceTransactions', JSON.stringify(transactions));
            
            showNotification('Deposit request submitted! Waiting for admin approval.');
            document.getElementById('depositForm').reset();
        }

        // Handle withdraw form submission
        function handleWithdraw(e) {
            e.preventDefault();
            if (!currentUser) {
                showPage('login');
                showNotification('Please login to withdraw');
                return;
            }
            
            const user = users.find(u => u.email === currentUser.email);
            const amount = parseInt(document.getElementById('withdraw-amount').value);
            
            if (user.balance < amount) {
                showNotification('Insufficient balance');
                return;
            }
            
            const method = document.getElementById('withdraw-method').value;
            const accountNumber = document.getElementById('account-number').value;
            const accountName = document.getElementById('account-name').value;
            
            // Create withdrawal request (pending admin approval)
            const withdrawal = {
                id: Date.now(),
                userEmail: currentUser.email,
                userName: currentUser.name,
                amount,
                method,
                accountNumber,
                accountName,
                date: new Date().toLocaleDateString(),
                status: 'pending'
            };
            
            withdrawals.push(withdrawal);
            localStorage.setItem('deepFaceWithdrawals', JSON.stringify(withdrawals));
            
            // Add to transactions
            const transaction = {
                type: 'Withdrawal',
                amount,
                date: new Date().toLocaleDateString(),
                status: 'Pending'
            };
            
            transactions.push(transaction);
            localStorage.setItem('deepFaceTransactions', JSON.stringify(transactions));
            
            showNotification('Withdrawal request submitted! Waiting for admin approval.');
            document.getElementById('withdrawForm').reset();
        }

        // Handle profile update
        function handleProfileUpdate(e) {
            e.preventDefault();
            if (!currentUser) return;
            
            const name = document.getElementById('profile-name-input').value;
            const email = document.getElementById('profile-email').value;
            const phone = document.getElementById('profile-phone').value;
            const password = document.getElementById('profile-password').value;
            
            // Update user data
            const userIndex = users.findIndex(u => u.email === currentUser.email);
            if (userIndex !== -1) {
                users[userIndex].name = name;
                users[userIndex].email = email;
                users[userIndex].phone = phone;
                
                if (password) {
                    users[userIndex].password = password;
                }
                
                localStorage.setItem('deepFaceUsers', JSON.stringify(users));
                currentUser = users[userIndex];
                updateUserData();
                showNotification('Profile updated successfully!');
            }
        }

        // Load admin data
        function loadAdminData() {
            // Load pending deposits
            const pendingDepositsTable = document.getElementById('pending-deposits');
            pendingDepositsTable.innerHTML = '';
            
            deposits.filter(d => d.status === 'pending').forEach(deposit => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${deposit.userEmail}</td>
                    <td>Rs ${deposit.amount}</td>
                    <td>${deposit.method}</td>
                    <td>${deposit.date}</td>
                    <td>
                        <button class="btn btn-success btn-sm" onclick="approveDeposit(${deposit.id})">Approve</button>
                        <button class="btn btn-danger btn-sm" onclick="rejectDeposit(${deposit.id})">Reject</button>
                    </td>
                `;
                pendingDepositsTable.appendChild(row);
            });
            
            // Load pending withdrawals
            const pendingWithdrawalsTable = document.getElementById('pending-withdrawals');
            pendingWithdrawalsTable.innerHTML = '';
            
            withdrawals.filter(w => w.status === 'pending').forEach(withdrawal => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${withdrawal.userEmail}</td>
                    <td>Rs ${withdrawal.amount}</td>
                    <td>${withdrawal.method}</td>
                    <td>${withdrawal.date}</td>
                    <td>
                        <button class="btn btn-success btn-sm" onclick="approveWithdrawal(${withdrawal.id})">Approve</button>
                        <button class="btn btn-danger btn-sm" onclick="rejectWithdrawal(${withdrawal.id})">Reject</button>
                    </td>
                `;
                pendingWithdrawalsTable.appendChild(row);
            });
            
            // Load all users
            const usersList = document.getElementById('admin-users-list');
            usersList.innerHTML = '';
            
            users.forEach(user => {
                const userCard = document.createElement('div');
                userCard.className = 'user-card';
                userCard.innerHTML = `
                    <h3>${user.name}</h3>
                    <p>Email: ${user.email}</p>
                    <p>Balance: Rs ${user.balance}</p>
                    <p>Joined: ${user.joinDate}</p>
                    <div class="balance-edit">
                        <input type="number" id="edit-balance-${user.email}" value="${user.balance}" placeholder="New Balance">
                        <button class="btn btn-warning btn-sm" onclick="updateUserBalance('${user.email}')">Update</button>
                    </div>
                `;
                usersList.appendChild(userCard);
            });
        }

        // Admin functions
        function approveDeposit(depositId) {
            const depositIndex = deposits.findIndex(d => d.id === depositId);
            if (depositIndex !== -1) {
                const deposit = deposits[depositIndex];
                deposit.status = 'approved';
                
                // Update user balance
                const userIndex = users.findIndex(u => u.email === deposit.userEmail);
                if (userIndex !== -1) {
                    users[userIndex].balance += deposit.amount;
                    
                    // Update transaction status
                    const transactionIndex = transactions.findIndex(t => 
                        t.type === 'Deposit' && t.amount === deposit.amount && t.status === 'Pending'
                    );
                    
                    if (transactionIndex !== -1) {
                        transactions[transactionIndex].status = 'Completed';
                    }
                    
                    localStorage.setItem('deepFaceUsers', JSON.stringify(users));
                    localStorage.setItem('deepFaceDeposits', JSON.stringify(deposits));
                    localStorage.setItem('deepFaceTransactions', JSON.stringify(transactions));
                    
                    loadAdminData();
                    showNotification('Deposit approved successfully!');
                }
            }
        }

        function rejectDeposit(depositId) {
            const depositIndex = deposits.findIndex(d => d.id === depositId);
            if (depositIndex !== -1) {
                deposits[depositIndex].status = 'rejected';
                
                // Update transaction status
                const deposit = deposits[depositIndex];
                const transactionIndex = transactions.findIndex(t => 
                    t.type === 'Deposit' && t.amount === deposit.amount && t.status === 'Pending'
                );
                
                if (transactionIndex !== -1) {
                    transactions[transactionIndex].status = 'Rejected';
                }
                
                localStorage.setItem('deepFaceDeposits', JSON.stringify(deposits));
                localStorage.setItem('deepFaceTransactions', JSON.stringify(transactions));
                
                loadAdminData();
                showNotification('Deposit rejected!');
            }
        }

        function approveWithdrawal(withdrawalId) {
            const withdrawalIndex = withdrawals.findIndex(w => w.id === withdrawalId);
            if (withdrawalIndex !== -1) {
                const withdrawal = withdrawals[withdrawalIndex];
                withdrawal.status = 'approved';
                
                // Update user balance
                const userIndex = users.findIndex(u => u.email === withdrawal.userEmail);
                if (userIndex !== -1) {
                    users[userIndex].balance -= withdrawal.amount;
                    
                    // Update transaction status
                    const transactionIndex = transactions.findIndex(t => 
                        t.type === 'Withdrawal' && t.amount === withdrawal.amount && t.status === 'Pending'
                    );
                    
                    if (transactionIndex !== -1) {
                        transactions[transactionIndex].status = 'Completed';
                    }
                    
                    localStorage.setItem('deepFaceUsers', JSON.stringify(users));
                    localStorage.setItem('deepFaceWithdrawals', JSON.stringify(withdrawals));
                    localStorage.setItem('deepFaceTransactions', JSON.stringify(transactions));
                    
                    loadAdminData();
                    showNotification('Withdrawal approved successfully!');
                }
            }
        }

        function rejectWithdrawal(withdrawalId) {
            const withdrawalIndex = withdrawals.findIndex(w => w.id === withdrawalId);
            if (withdrawalIndex !== -1) {
                withdrawals[withdrawalIndex].status = 'rejected';
                
                // Update transaction status
                const withdrawal = withdrawals[withdrawalIndex];
                const transactionIndex = transactions.findIndex(t => 
                    t.type === 'Withdrawal' && t.amount === withdrawal.amount && t.status === 'Pending'
                );
                
                if (transactionIndex !== -1) {
                    transactions[transactionIndex].status = 'Rejected';
                }
                
                localStorage.setItem('deepFaceWithdrawals', JSON.stringify(withdrawals));
                localStorage.setItem('deepFaceTransactions', JSON.stringify(transactions));
                
                loadAdminData();
                showNotification('Withdrawal rejected!');
            }
        }

        function updateUserBalance(userEmail) {
            const newBalance = parseInt(document.getElementById(`edit-balance-${userEmail}`).value);
            const userIndex = users.findIndex(u => u.email === userEmail);
            
            if (userIndex !== -1 && !isNaN(newBalance)) {
                users[userIndex].balance = newBalance;
                localStorage.setItem('deepFaceUsers', JSON.stringify(users));
                loadAdminData();
                showNotification('User balance updated successfully!');
            }
        }

        // Logout function
        function logout() {
            currentUser = null;
            isAdmin = false;
            showPage('home');
            updateAuthButtons();
            showNotification('Logged out successfully!');
        }

        // Update user data on the page
        function updateUserData() {
            if (!currentUser) return;
            
            const user = users.find(u => u.email === currentUser.email);
            if (user) {
                document.getElementById('user-balance').textContent = `Rs ${user.balance}`;
                document.getElementById('profile-name').textContent = user.name;
                document.getElementById('profile-name-input').value = user.name;
                document.getElementById('profile-email').value = user.email;
                document.getElementById('join-date').textContent = user.joinDate;
                document.getElementById('user-id').textContent = user.userId;
                
                // Load transaction history
                const transactionHistory = document.getElementById('transaction-history');
                transactionHistory.innerHTML = '';
                
                transactions.filter(t => t.userEmail === user.email || !t.userEmail).forEach(transaction => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>${transaction.date}</td>
                        <td>${transaction.type}</td>
                        <td>Rs ${transaction.amount}</td>
                        <td><span class="badge ${transaction.status === 'Completed' ? 'badge-success' : transaction.status === 'Pending' ? 'badge-warning' : 'badge-danger'}">${transaction.status}</span></td>
                    `;
                    transactionHistory.appendChild(row);
                });
            }
        }

        // Check login status and update UI
        function checkLoginStatus() {
            // For demo purposes, we're starting logged out
            currentUser = null;
            isAdmin = false;
            updateAuthButtons();
        }

        // Update authentication buttons based on login status
        function updateAuthButtons() {
            if (currentUser) {
                document.getElementById('loginBtn').style.display = 'none';
                document.getElementById('registerBtn').style.display = 'none';
                document.getElementById('logoutBtn').style.display = 'block';
            } else {
                document.getElementById('loginBtn').style.display = 'block';
                document.getElementById('registerBtn').style.display = 'block';
                document.getElementById('logoutBtn').style.display = 'none';
            }
        }

        // Show specific page
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active-page');
            });
            document.getElementById(pageId).classList.add('active-page');
            
            // Scroll to top
            window.scrollTo(0, 0);
            
            // Update data if needed
            if (currentUser && pageId === 'home') {
                updateUserData();
            }
        }

        // Show notification
        function showNotification(message) {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.style.display = 'block';
            
            setTimeout(() => {
                notification.style.display = 'none';
            }, 3000);
        }

        // Copy referral code
        function copyRefCode() {
            const refCode = document.getElementById('refCode');
            refCode.select();
            document.execCommand('copy');
            showNotification('Referral code copied to clipboard!');
        }

        // Initialize the app when the DOM is loaded
        document.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>